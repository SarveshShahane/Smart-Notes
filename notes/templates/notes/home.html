<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <style>
    .notes-container {
        display: grid;
        grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
        gap: 20px;
        margin: 20px;
    }

    .note-card {
        background: #fff;
        border: 1px solid #ddd;
        border-radius: 8px;
        padding: 16px;
        box-shadow: 0 2px 6px rgba(0, 0, 0, 0.08);
        transition: transform 0.2s ease, box-shadow 0.2s ease;
    }

    .note-card:hover {
        transform: translateY(-4px);
        box-shadow: 0 4px 12px rgba(0, 0, 0, 0.12);
    }

    .note-card h2 {
        font-size: 1.3rem;
        margin-bottom: 8px;
        color: #333;
    }

    .note-card p {
        margin-bottom: 10px;
        line-height: 1.4;
        color: #555;
    }

    .note-tags {
        font-size: 0.9rem;
        color: #007bff;
        font-style: italic;
        margin-bottom: 12px;
    }

    .note-delete {
        display: inline-block;
        padding: 6px 12px;
        background-color: #dc3545;
        color: #fff;
        border-radius: 4px;
        text-decoration: none;
        font-size: 0.9rem;
        transition: background-color 0.2s ease;
    }

    .note-delete:hover {
        background-color: #a71d2a;
    }
</style>

</head>

<body>
    <div>{% include 'notes/navbar.html' %}</div>
    {% if messages %}
  <div class="messages" id="flash-messages">
    {% for message in messages %}
      <div class="alert {{ message.tags }}">
        {{ message }}
      </div>
    {% endfor %}
  </div>
{% endif %}

  <div class="notes-container">
    {% for note in notes %}
        <div class="note-card">
            <h2>{{ note.title }}</h2>
            <p>{{ note.content }}</p>
            <p class="note-tags">Tags: {{ note.tags }}</p>
            <a class="note-delete" href="{% url 'delete_note' note.id %}">Delete</a>
        </div>
    {% endfor %}
</div>

<script>
  // Hide flash messages after 3 seconds (3000 ms)
  setTimeout(function() {
    const flashMessages = document.getElementById("flash-messages");
    if (flashMessages) {
      flashMessages.style.transition = "opacity 0.5s ease";
      flashMessages.style.opacity = "0";
      setTimeout(() => flashMessages.remove(), 500); // fully remove after fade
    }
  }, 3000);
</script>
</body>
</html>